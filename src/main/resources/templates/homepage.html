<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
        layout:decorate="~{tennis-layout}">

<div layout:fragment="page-content">
    <header>
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner" role="listbox">
                <!-- Slide One - Set the background image for this slide in the line below -->
                <div class="carousel-item active" style="background-image: url('http://placehold.it/1900x1080')">
                    <div class="carousel-caption d-none d-md-block">
                        <h3>First Slide</h3>
                        <p>This is a description for the first slide.</p>
                    </div>
                </div>
                <!-- Slide Two - Set the background image for this slide in the line below -->
                <div class="carousel-item" style="background-image: url('http://placehold.it/1900x1080')">
                    <div class="carousel-caption d-none d-md-block">
                        <h3>Second Slide</h3>
                        <p>This is a description for the second slide.</p>
                    </div>
                </div>
                <!-- Slide Three - Set the background image for this slide in the line below -->
                <div class="carousel-item" style="background-image: url('http://placehold.it/1900x1080')">
                    <div class="carousel-caption d-none d-md-block">
                        <h3>Third Slide</h3>
                        <p>This is a description for the third slide.</p>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </header>
    <div class="mb-4" id="accordion" role="tablist" aria-multiselectable="true">
        <div class="card">
            <div class="card-header" role="tab" id="UpcomingEvents">
                <h5 class="mb-0" th:text="'Upcoming events'"> </h5>
            </div>
        </div>
        <div th:each="upcomingEvent, iterStat : ${upcomingEvents}" class="card" th:object="${upcomingEvent}">
            <div class="card-header" role="tab" th:id="'heading'+${iterStat.count}">
                <h5 class="mb-0">
                    <a class="collapsed" data-toggle="collapse" data-parent="#accordion"
                       th:href="'#collapse'+${iterStat.count}" aria-expanded="false"
                       th:aria-controls="'collapse'+${iterStat.count}" th:text="*{playerOne.name}+' '+*{playerOne.surname}+' vs '+*{playerTwo.name}+' '+*{playerTwo.surname}+', starts at '+${#temporals.format(upcomingEvent.timeOfStart,'yyyy.MM.dd HH:mm')}"></a>
                </h5>
            </div>
            <div th:id="'collapse'+${iterStat.count}" class="collapse" role="tabpanel"
                 th:aria-labelledby="'headingTwo'+${iterStat.count}">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                            <thead>
                            <tr>
                                <th th:text="*{playerOne.name}+' '+*{playerOne.surname}+' wins'"></th>
                                <th th:text="*{playerTwo.name}+' '+*{playerTwo.surname}+' wins'"></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <form th:action="@{/bet/add-to-ticket}" method="post">
                                        <!--TODO links to proper events -->
                                        <button name="selection" th:value="${event.playerOne.id}" th:text="'Point for '+${event.playerOne.surname}" type="submit"></button>


                                    </form>
                                    <button h:></button>
                                </td>
                            </tr>
                            <tr th:each="transaction, iterStat : ${user.wallet.moneyTransactions}" th:object="${transaction}">
                                <td th:text="*{transactionType}"></td>
                                <td th:text="*{value}"></td>
                                <td th:text="${#temporals.format(transaction.time,'yyyy.MM.dd HH:mm:ss')}"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</html>
